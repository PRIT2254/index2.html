<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏</title>
<style>
body { font-family: Arial; background:#ffffff; margin:20px; }
.section { margin-bottom:40px; }
.card { background:#f3f3f3; padding:18px; margin:15px 0; border-radius:8px; }
label { font-weight:bold; display:block; margin-top:10px; color:#000; }
input, select { width:100%; padding:6px; margin-top:4px; }
button { padding:8px 14px; margin:6px 4px 0 0; border:none; border-radius:6px; cursor:pointer; }
.green { background:#28a745; color:#fff; }
.blue { background:#87CEFA; }
.red { background:#dc3545; color:#fff; }
.status { font-weight:bold; margin-top:10px; }
hr { margin:25px 0; }
.small { font-size:13px; color:#555; }
</style>
</head>
<body>

<h1>‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏</h1>

<!-- ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏ -->
<div class="section">
<h2>üîµ ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏</h2>

<label>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏</label>
<input id="r_info">

<label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
<input id="r_position">

<label>‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</label>
<input id="r_name">

<label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</label>
<input id="r_phone">

<label>‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏</label>
<input id="r_time">

<label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏´‡∏ï‡∏∏</label>
<input id="r_detail">

<button class="green" onclick="createCase()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏</button>

<hr>
<h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏)</h3>
<div id="radioCases"></div>
</div>

<!-- ‡∏™‡∏ï‡∏≤‡∏ü -->
<div class="section">
<h2>üü¢ ‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà / ‡∏™‡∏ï‡∏≤‡∏ü</h2>
<div id="officerCases"></div>
</div>

<script>

let cases = [];

function createCase(){
  let confirmCode = prompt("‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏‡∏∏");
  if(confirmCode !== "2520"){
    alert("‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }

  cases.push({
    info:r_info.value,
    position:r_position.value,
    name:r_name.value,
    phone:r_phone.value,
    time:r_time.value,
    detail:r_detail.value,
    receiver:"",
    status:"‡∏£‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™"
  });

  renderAll();
}

function renderAll(){
  renderRadio();
  renderOfficer();
}

function renderRadio(){
  let box=document.getElementById("radioCases");
  box.innerHTML="";

  cases.forEach((c,i)=>{
    box.innerHTML+=`
    <div class="card">
      <label>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏à‡πâ‡∏á‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏</label>${c.info}<br><br>
      <label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>${c.position}<br><br>
      <label>‡∏ä‡∏∑‡πà‡∏≠‚Äì‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</label>${c.name}
      <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</label>${c.phone}
      <label>‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏±‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏</label>${c.time}<br><br><br>
      <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏´‡∏ï‡∏∏</label>${c.detail}<br><br>

      <div class="small">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™: ${c.receiver || "-"}</div>
      <div class="status">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${c.status}</div>

      ${
        c.status==="‡∏£‡∏≠‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô"
        ? <button class="green" onclick="confirmFinish(${i})">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™</button>
        : ""
      }
    </div>
    `;
  });
}

function renderOfficer(){
  let box=document.getElementById("officerCases");
  box.innerHTML="";

  cases.forEach((c,i)=>{

    box.innerHTML+=`
    <div class="card">
      <strong>${c.info}</strong><br>
      ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ${c.status}<br><br>

      ${
        c.status==="‡∏£‡∏≠‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™"
        ? `
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™</label>
        <input id="name${i}">
        <label>‡∏£‡∏´‡∏±‡∏™‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß</label>
        <input id="id${i}">
        <label>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
        <select id="role${i}">
          <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</option>
          <option value="2520">‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏</option>
          <option value="1110">‡πÄ‡∏Æ‡∏î‡∏™‡∏ï‡∏≤‡∏ü</option>
          <option value="4520">‡∏™‡∏ï‡∏≤‡∏ü</option>
          <option value="11420">‡∏™‡∏≤‡∏¢‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á</option>
        </select>
        <label>‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
        <input id="code${i}">
        <button class="green" onclick="accept(${i})">‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™</button>
        `
        : ""
      }

      ${
        c.status==="‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™‡πÅ‡∏•‡πâ‡∏ß"
        ? `
        <button class="blue" onclick="arrived(${i})">‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏</button>
        <button class="red" onclick="cancelCase(${i})">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        `
        : ""
      }

      ${
        c.status==="‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏"
        ? `
        <button class="green" onclick="requestClose(${i})">‡∏™‡πà‡∏á‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏™</button>
        `
        : ""
      }

    </div>
    `;
  });
}

function accept(i){
  let role=document.getElementById("role"+i).value;
  let code=document.getElementById("code"+i).value;
  let name=document.getElementById("name"+i).value;

  if(role!==code || role===""){
    alert("‡∏£‡∏´‡∏±‡∏™‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
    return;
  }

  cases[i].receiver=name;
  cases[i].status="‡∏£‡∏±‡∏ö‡πÄ‡∏Ñ‡∏™‡πÅ‡∏•‡πâ‡∏ß";
  renderAll();
}

function arrived(i){
  cases[i].status="‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡πÄ‡∏´‡∏ï‡∏∏";
  renderAll();
}

function cancelCase(i){
  cases[i].status="‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å";
  renderAll();
}

function requestClose(i){
  cases[i].status="‡∏£‡∏≠‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô";
  renderAll();
}

function confirmFinish(i){
  let code = prompt("‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏ß‡∏¥‡∏ó‡∏¢‡∏∏");
  if(code==="2520"){
    cases[i].status="‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô";
    renderAll();
  } else {
    alert("‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
  }
}

</script>
</body>
</html>

